{% extends "base.html" %} {% block content %}
<div class="calendar-header">
  <div class="calendar-nav">
    <a
      href="{{ url_for('weekly_view', date=(selected_date - timedelta(days=7)).strftime('%Y-%m-%d') ) }}"
      class="btn-secondary"
      >Previous</a
    >
    <h2 class="calendar-title">
      Week of {{ days[0][0].strftime('%B %d, %Y') }}
    </h2>
    <a
      href="{{ url_for('weekly_view', date=(selected_date + timedelta(days=7)).strftime('%Y-%m-%d') ) }}"
      class="btn-secondary"
      >Next</a
    >
  </div>
  <a href="{{ url_for('new_event') }}" class="btn-primary">Add Event</a>
</div>

<div class="weekly-calendar">
  <div class="calendar-grid">
    <div class="calendar-day-header">Monday</div>
    <div class="calendar-day-header">Tuesday</div>
    <div class="calendar-day-header">Wednesday</div>
    <div class="calendar-day-header">Thursday</div>
    <div class="calendar-day-header">Friday</div>
    <div class="calendar-day-header">Saturday</div>
    <div class="calendar-day-header">Sunday</div>

    {% for day, events in days %}
    <div class="calendar-day-cell">
      <div class="day-number">{{ day.strftime('%d') }}</div>
      <div class="day-events">
        {% for event in events %}
        <div class="day-event {{ event.event_type }}">
          <strong>{{ event.start_time.strftime('%H:%M') }}</strong> {{
          event.title }}
        </div>
        {% endfor %}
      </div>
      <a
        href="{{ url_for('daily_view', date=day.strftime('%Y-%m-%d')) }}"
        class="btn-small"
        >View Day</a
      >
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
